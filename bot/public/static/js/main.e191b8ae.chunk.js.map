{"version":3,"sources":["Location/ImgMediaCard.jsx","Location/Search.jsx","Location/URLImage.jsx","Location/UsersLocation.jsx","config.js","Shared/Datepicker.jsx","Analytics/Header.jsx","requests/credentials.js","Analytics/Proximity/TotalCount.jsx","Analytics/Proximity/ChartProximity.jsx","Analytics/Proximity/Proximity.jsx","Analytics/Dwell/TotalCount.jsx","Analytics/Dwell/ChartDwell.jsx","Analytics/Dwell/Dwell.jsx","Analytics/RepeatVisitors/ChartRepeatVisitors.jsx","Analytics/RepeatVisitors/TotalCount.jsx","Analytics/RepeatVisitors/RepeatVisitors.jsx","Analytics/Summary/Visitors.jsx","Analytics/Summary/DwellTime.jsx","Analytics/Summary/Devices.jsx","Analytics/Summary/Prediction.jsx","Analytics/Summary/Summary.jsx","Analytics/Analytics.jsx","Layout/Header.jsx","Layout/Login.jsx","Location/OutlinedTextFields.jsx","Location/Map.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["ImgMediaCard","props","_this","Object","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","setParamState","name","param","setState","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","showInfo","x","y","e","upper","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","state","allUser","map","item","mapCoordinate","floor","mapInfo","floorRefId","console","log","manufacturer","userName","macAddress","info","myInput","React","createRef","nextProps","url","config","location","imageSrc","header","JSON","parse","localStorage","getItem","axios","get","headers","Authorization","responseType","res","tmp","Buffer","data","toString","img","_context","t0","post","message","catch","error","image","classes","width","current","offsetWidth","height","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","react_konva__WEBPACK_IMPORTED_MODULE_17__","_UsersLocation_jsx__WEBPACK_IMPORTED_MODULE_19__","src","updateParam","redDot","notification","_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15___default","gutterBottom","variant","component","_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_13___default","className","card","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_16___default","container","direction","justify","ref","_Search_jsx__WEBPACK_IMPORTED_MODULE_20__","users","setFloor","Component","withStyles","theme","display","maxWidth","media","objectFit","flexDirection","justifyContent","windowSize","Search","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","handleInput","event","userInput","target","value","validate","str","match","handleClick","verdict","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","mapHierarchyString","split","prevState","listOfsearch","concat","_Users_dkalashn_CCMN_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","addInfo","handleKeyPress","key","react__WEBPACK_IMPORTED_MODULE_7___default","containerInput","_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_13___default","scroll","index","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_9___default","root","elevation","_material_ui_core_InputBase__WEBPACK_IMPORTED_MODULE_10___default","input","placeholder","onChange","onKeyPress","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_11___default","iconButton","aria-label","onClick","_material_ui_icons_Search__WEBPACK_IMPORTED_MODULE_12___default","padding","alignItems","marginLeft","flex","divider","margin","overflowY","URLImage","handleLoad","loadImage","oldProps","removeEventListener","window","Image","addEventListener","_this2","react_default","ReactKonva","node","imageNode","UsersLocation","classCallCheck","possibleConstructorReturn","getPrototypeOf","updateCurent","toConsumableArray","diplayNotification","arrA","Array","from","arrB","macAddr","difference","filter","includes","length","join","request","assertThisInitialized","then","imgWidth","imgHeight","scaleWidth","bind","scaleHeight","_this3","setInterval","Promise","resolve","reject","onload","_this4","Location_URLImage","ind","color","founded","titile","fill","module","exports","presence","Datepicker","now","Date","start","moment","getFullYear","getMonth","getDate","end","add","subtract","startDate","endDate","date","format","changeDate","applyCallback","ranges","Today Only","Yesterday Only","3 Days","maxDate","dist_default","local","FormControl_default","formControl","TextField_default","spacing","unit","Header","handleChangeDate","params","handleParams","Grid_default","xs","md","Shared_Datepicker","flexWrap","selectEmpty","marginTop","siteId","getPresenceParams","baseUrl","types","keys","connected","passerby","visitors","RADIAN","Math","PI","renderCustomizedLabel","_ref","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","cos","sin","textAnchor","dominantBaseline","toFixed","TotalCount","hideData","type","obj","push","buildData","legendButtons","style","backgroundColor","opacity","Card_default","CardContent_default","index_es","Poll_default","Typography_default","es6","onMouseEnter","onPieEnter","labelLine","label","entry","ChartProximity","setChartData","chartData","prop","hasOwnProperty","time","RenderBrush","range","dataKey","stroke","chart","typesBars","fillOpacity","Proximity","fetchAll","fetchConnected","fetchPasserby","fetchVisitors","fetchCountVisitors","fetchCountConnected","fetchCountPasserby","buildQueryDateParams","isRange","visitorsCount","connectedCount","passerbyCount","nextContext","timeSection","objectSpread","result","_this5","_this6","_this7","_this8","Proximity_ChartProximity","Proximity_TotalCount","FIVE_TO_THIRTY_MINUTES","THIRTY_TO_SIXTY_MINUTES","ONE_TO_FIVE_HOURS","FIVE_TO_EIGHT_HOURS","EIGHT_PLUS_HOURS","showPercent","countDwellTime","AccessTime_default","ChartDwell","dwellTime","rangesAreas","colorsGradients","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","top","right","left","bottom","strokeDasharray","Dwell","fetchDwellTime","fetchCountDwellTime","Dwell_ChartDwell","Dwell_TotalCount","DAILY","WEEKLY","OCCASIONAL","FIRST_TIME","YESTERDAY","ChartRepeatVisitors","repeatVisitors","rangesLines","People_default","count","RepeatVisitors","fetchRepeatVisitors","fetchCount","RepeatVisitors_ChartRepeatVisitors","RepeatVisitors_TotalCount","Visitors","sm","PeopleOutline_default","fontSize","precentage","conversionRate","DwellTime","peakSummary","peakHour","next","err","parseInt","averageDwellTime","averageDwelTime","peakHourFormat","peakHourCount","dwellLevels","Devices","propsDevices","devices","sortedDevices","sort","b","deviceNames","device","Devices_default","Prediction","undefined","dates","currentKeyDate","i","counts","isKeyPresentInObj","countAverage","array","sum","number","predictions","predict","TrendingUp_default","Summary","fetchSummary","summary","Summary_Visitors","totalConnectedCount","totalPasserbyCount","totalVisitorCount","connectedPercentage","Summary_DwellTime","averageDwell","peakWeekSummary","averageDwellByLevels","Summary_Devices","topManufacturers","manufacturerCounts","Summary_Prediction","Analytics","getQueryParams","Analytics_Header","Analytics_Summary_Summary","Analytics_Proximity_Proximity","Analytics_Dwell_Dwell","Analytics_RepeatVisitors_RepeatVisitors","handleChange","removeItem","reload","pathname","AppBar_default","position","Tabs_default","centered","Tab_default","Link","to","logout","Login","presenceUname","presencePass","locationUname","locationPass","btoa","setItem","stringify","aesUId","response","status","history","react_router","CssBaseline_default","Paper_default","onSubmit","handleSubmit","FormLabel_default","required","fullWidth","InputLabel_default","htmlFor","Input_default","autoComplete","autoFocus","Button_default","OutlinedTextFields","title","list","noValidate","select","textField","helperText","option","MenuItem_default","marginRight","dense","menu","Map","defineProperty","floorList","open","msg","handleClose","campusName","buildName","floorValue","vertical","horizontal","campuses","buildingList","aesUidString","_this$state","Location_OutlinedTextFields","campus","bulding","Snackbar_default","anchorOrigin","onClose","ContentProps","aria-describedby","autoHideDuration","Auth","App","react_router_dom","path","exact","Boolean","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e191b8ae.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nimport Grid from '@material-ui/core/Grid';\nimport { Stage } from 'react-konva';\nimport windowSize from 'react-window-size';\nimport UsersLocation from './UsersLocation.jsx';\nimport Search from './Search.jsx';\n\nconst styles = theme => ({\n  card: {\n    display: 'flex',\n    maxWidth: '1400px',\n    height: '80vh',\n    width: '90%',\n\n  },\n  media: {\n    //  object-fit is not supported by IE 11.\n    objectFit: 'cover',\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    height: \"100%\",\n    width: \"100%\"\n  }\n\n\n});\n\nclass ImgMediaCard extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      floor: this.props.floor,\n      info: []\n    }\n    this.myInput = React.createRef();\n  }\n\n  async componentWillReceiveProps(nextProps) {\n    if (nextProps.floor) {\n      // Try rebuid by async request\n      try {\n        let url = config.location + \"api/config/v1/maps/image\" + nextProps.imageSrc;\n        let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n        let res = await axios.get(url, {\n          headers: {\n            Authorization: header,\n          },\n          responseType: 'arraybuffer'\n        });\n        let tmp = \"data:image/png;base64,\" + new Buffer(res.data).toString('base64');\n        this.setState({\n          img: tmp,\n          floor: nextProps.floor\n        });\n\n      } catch (error) {\n        console.log(error)\n        axios.post('/error', {\n          data: error.message \n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }\n\n  setParamState = (name, param) => {\n    this.setState({\n      [name]: param\n    })\n  }\n\n  showInfo = (x, y) => e =>{\n    let upper = this;\n    this.state.allUser.map((item) => {\n        if (item.mapCoordinate.x === x \n          && item.mapCoordinate.y === y\n          && this.state.floor === item.mapInfo.floorRefId){\n            console.log(item.manufacturer, item.userName, item.macAddress)\n            upper.setState({ info:[item.manufacturer, item.userName, item.macAddress] })\n        }\n    })\n}\n\n    render() {\n\n    const { classes } = this.props;\n    let image;\n\n    if (!this.state.img) {\n      image = (<CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          Please select floor, building and cumpus\n      </Typography>\n      </CardContent>);\n    } else {\n      let width = this.myInput.current.offsetWidth;\n      let height = width / 2;\n      image = (\n        <Stage width={width} height={height}>\n          <UsersLocation\n            floor={this.state.floor}\n            src={this.state.img}\n            width={width} height={height}\n            updateParam={this.setParamState}\n            redDot={this.state.redDot}\n            notification={this.props.notification}\n            showInfo={this.showInfo} />\n        </Stage>);\n    }\n    return (\n      <Card className={classes.card} >\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"space-between\"\n        >\n          <div ref={this.myInput} className={classes.container} >\n            {image}\n            <Search  \n            users={this.state.allUser} \n            redDot={this.setParamState} \n            setFloor={this.props.setFloor}\n            info={this.state.info} />\n          </div>\n        </Grid>\n\n      </Card>\n\n    );\n  }\n}\n\nImgMediaCard.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(windowSize(ImgMediaCard));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = {\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n  containerInput: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-end\",\n    height: '100%',\n  },\n  scroll: {\n    overflowY: 'scroll',\n    height: '100%',\n  },\n};\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInput: \"\",\n      listOfsearch: []\n    }\n  }\n\n  handleInput = (event) => {\n    this.setState({ userInput: event.target.value });\n  }\n\n  validate = (str) => {\n    if (str.match(/^([a-fA-F0-9]{2}:){5}([a-fA-F0-9]{2})$/g) ||\n      str.match(/^([a-z]{3,8})$/g)) {\n      return true;\n    }\n    return false;\n  }\n\n  handleClick = () => {\n\n    let tmp = this.state.userInput;\n    let verdict = this.validate(tmp)\n    let upper = this;\n\n    if (tmp === \"\") { return; }\n    // validation if floor is choosen\n    if (!this.props.users) {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, \"Pls, choose floor\"],\n        userInput: \"\"\n      }));\n      return\n    }\n    if (!verdict) {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, \"Wrong input\"],\n        userInput: \"\"\n      }));\n      return;\n    }\n    // search from array macaddres of username\n    let res = \"\";\n    this.props.users.map(item => {\n      // console.log(item.mapInfo.floorRefId)\n      // console.log(item.userName)\n      if (item.userName === tmp) {\n        res = item.userName + \" is at \" + item.mapInfo.mapHierarchyString.split('>')[2];\n        upper.props.redDot(\"redDot\", item);\n        upper.props.setFloor(item.mapInfo.floorRefId)\n      } else if (item.macAddress === tmp) {\n        res = \"Find \" + item.macAddress + \" at \" + item.mapInfo.mapHierarchyString.split('>')[2];\n        upper.props.redDot(\"redDot\", item);\n        upper.props.setFloor(item.mapInfo.floorRefId)\n      }\n    })\n    // handle wrong input\n    if (res === \"\") {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, prevState.userInput + \" not found\"],\n        userInput: \"\"\n      }));\n    } else {\n      this.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, res],\n        userInput: \"\"\n      }));\n    }\n  }\n\n  componentWillReceiveProps(nextProps){\n    if (nextProps.info !== this.props.info){\n      this.addInfo(nextProps.info);\n    }\n  }\n\n  addInfo = (param) => {\n    let upper = this;\n    param.map(item => {\n      upper.setState(prevState => ({\n        listOfsearch: [...prevState.listOfsearch, item]\n      }))\n    })\n  }\n\n  handleKeyPress = (event) => {\n    if (event.key == 'Enter') {\n      this.handleClick();\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.containerInput}>\n        <CardContent className={classes.scroll}>\n          {this.state.listOfsearch.map((item, index) => {\n\n            return (<Typography key={index} component=\"p\">\n              {item}\n            </Typography>);\n          })}\n        </CardContent>\n        <Paper className={classes.root} elevation={1}>\n          <InputBase className={classes.input}\n            placeholder=\"Search macaddress or login\"\n            onChange={this.handleInput}\n            value={this.state.userInput}\n            onKeyPress={this.handleKeyPress} />\n          <IconButton className={classes.iconButton} aria-label=\"Search\" onClick={this.handleClick} >\n            <SearchIcon />\n          </IconButton>\n        </Paper>\n      </div>\n\n    );\n  }\n}\n\nSearch.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Search);\n","import React from 'react';\nimport { Image } from 'react-konva';\n\n\nclass URLImage extends React.Component {\n    state = {\n      image: null\n    };\n    componentDidMount() {\n      this.loadImage();\n    }\n    componentDidUpdate(oldProps) {\n      if (oldProps.src !== this.props.src) {\n        this.loadImage();\n      }\n    }\n    componentWillUnmount() {\n      this.image.removeEventListener('load', this.handleLoad);\n    }\n    loadImage() {\n      // save to \"this\" to remove \"load\" handler on unmount\n      this.image = new window.Image();\n      this.image.src = this.props.src;\n      this.image.addEventListener('load', this.handleLoad);\n    }\n    handleLoad = () => {\n      // after setState react-konva will update canvas and redraw the layer\n      // because \"image\" property is changed\n      this.setState({\n        image: this.image,\n        width: this.image.width,\n        height: this.image.height,\n      });\n      // if you keep same image object during source updates\n      // you will have to update layer manually:\n      // this.imageNode.getLayer().batchDraw();\n    };\n    render() {\n      return (\n        <Image\n          x={this.props.x}\n          y={this.props.y}\n          width={this.props.width}\n          height={this.props.height}\n          image={this.state.image}\n          ref={node => {\n            this.imageNode = node;\n          }}\n        />\n      );\n    }\n  }\n\n  export default URLImage;","import React from 'react';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport URLImage from './URLImage.jsx';\nimport { Layer, Rect } from 'react-konva';\n\nclass UsersLocation extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            users: [],\n            current: [],\n            imgWidth: \"\",\n            imgHeight: \"\",\n            macAddr: []\n        }\n        this.scaleWidth = this.scaleWidth.bind(this);\n        this.scaleHeight = this.scaleHeight.bind(this);\n    }\n\n    updateCurent = () => {\n        this.setState({\n            current: [],\n        }, function () {\n            this.state.users.map((item) => {\n                if (this.props.floor === item.mapInfo.floorRefId) {\n                    this.setState(prevState => ({\n                        current: [...prevState.current, item]\n                    }));\n                }\n            })\n        });\n    }\n\n    async componentWillReceiveProps(nextProps) {\n        let width = await this.scaleWidth(nextProps.src, nextProps.width);\n        let height = await this.scaleHeight(nextProps.src, nextProps.height);\n        this.setState({\n            scaleWidth: width,\n            scaleHeight: height,\n        })\n        this.setState({\n            current: [],\n        }, function () {\n            this.state.users.map((item) => {\n                if (nextProps.floor === item.mapInfo.floorRefId) {\n                    this.setState(prevState => ({\n                        current: [...prevState.current, item]\n                    }));\n                }\n            })\n        });\n\n    }\n\n    diplayNotification = (data) => {\n        let arrA = Array.from(data, item => item.macAddress);\n        let arrB = this.state.macAddr\n        let difference = arrA.filter(x => !arrB.includes(x));\n        console.log(difference);\n        if (difference.length < 10 && difference.length != 0){\n            this.props.notification(\"new \" + difference.join(\" \"))\n        } \n    }\n\n    request = () => {\n        \n        let url = config.location + \"api/location/v2/clients\";\n        let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n        let upper = this\n        axios.get(url, {\n            headers: {\n                Authorization: header,\n            }\n        }).then((res) => {\n            upper.props.updateParam(\"allUser\", res.data)\n            // console.log(res.data)\n            this.diplayNotification(res.data)\n            this.setState({\n                users: res.data,\n                macAddr: Array.from(res.data, item => item.macAddress)\n            }, this.updateCurent);\n        }).catch(error => {\n            console.log(error)\n            axios.post('/error', {\n                data: error.message \n              }).catch(function (error) {\n                console.log(error);\n              });\n        });\n    }\n\n    componentDidMount() {\n        this.request();\n        setInterval(this.request, 10000);\n    }\n\n    async componentWillMount() {\n        let width = await this.scaleWidth(this.props.src, this.props.width);\n        let height = await this.scaleHeight(this.props.src, this.props.height);\n        this.setState({\n            scaleWidth: width,\n            scaleHeight: height,\n        })\n    }\n\n    scaleWidth(src, width) {\n        let image = new Image();\n        image.src = src;\n        return new Promise((resolve, reject) => {\n            image.onload = function () {\n                resolve(width / image.width);\n            };\n        });\n    }\n\n    scaleHeight(src, height) {\n        let image = new window.Image();\n        image.src = src;\n        return new Promise((resolve, reject) => {\n            image.onload = function () {\n                resolve(height / image.height);\n            };\n        });\n    }\n\n    // showInfo = (x, y) => e =>{\n    //     this.state.current.map((item) => {\n    //         if (item.mapCoordinate.x == x && item.mapCoordinate.y == y){\n    //             console.log(item.manufacturer, item.userName, item.macAddress)\n    //         }\n    //     })\n    // }\n\n    render() {\n        return (\n            <Layer>\n                <URLImage src={this.props.src} x={0} y={0} width={this.props.width} height={this.props.height} />\n                {this.state.current.map((item, ind) => {\n                    let color = \"green\";\n                    let founded = 1;\n                    if (this.props.redDot && this.props.redDot.mapCoordinate.x ===item.mapCoordinate.x &&\n                        this.props.redDot.mapCoordinate.y === item.mapCoordinate.y){\n                            color = \"red\";\n                            founded = 1.5;\n                        }\n                        \n                    return (<Rect\n                        titile=\"lol\"\n                        key={ind}\n                        x={item.mapCoordinate.x * this.state.scaleWidth}\n                        y={item.mapCoordinate.y * this.state.scaleHeight}\n                        width={(this.props.width/140) * founded}\n                        height={(this.props.width/140) * founded}\n                        fill={color}\n                        \n                        onClick={this.props.showInfo(item.mapCoordinate.x, item.mapCoordinate.y)}\n                    />);\n                })}\n            </Layer>\n        );\n    }\n}\n\nexport default UsersLocation;","const config = {\n\n  presence: \"https://cisco-presence.unit.ua/\",\n  location: \"https://cisco-cmx.unit.ua/\"\n\n};\n\nmodule.exports = config;\n","import React, {Component} from 'react';\nimport DateTimeRangeContainer from 'react-advanced-datetimerange-picker';\nimport TextField from '@material-ui/core/TextField';\n// import {FormControl} from 'react-bootstrap';\nimport moment from \"moment\";\nimport {withStyles} from \"@material-ui/core\";\nimport FormControl from \"@material-ui/core/FormControl\";\n// import InputLabel from \"@material-ui/core/InputLabel\";\n\n\nconst styles = theme => ({\n\tformControl: {\n\t\tmargin: theme.spacing.unit,\n\t\twidth: \"100%\"\n\t},\n});\n\n\nclass Datepicker extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet now = new Date();\n\t\tlet start = moment(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0,0,0,0));\n\t\tlet end = moment(start).add(1, \"days\").subtract(1, \"seconds\");\n\t\tthis.state = {\n\t\t\tstartDate : start,\n\t\t\tendDate : end,\n\t\t};\n\n\t\tlet date = {\n\t\t\tstart: moment(this.state.startDate).format('Y-MM-DD'),\n\t\t\tend: moment(this.state.endDate).format('Y-MM-DD')\n\t\t};\n\t\tthis.props.changeDate(date);\n\t\tthis.applyCallback = this.applyCallback.bind(this);\n\t}\n\n\tapplyCallback(startDate, endDate){\n\t\tthis.setState({\n\t\t\tstartDate: startDate,\n\t\t\tendDate : endDate,\n\t\t});\n\t\tlet date = {\n\t\t\tstart: moment(startDate).format('Y-MM-DD'),\n\t\t\tend: moment(endDate).format('Y-MM-DD')\n\t\t};\n\t\tthis.props.changeDate(date);\n\t}\n\n\trender(){\n\t\tconst { classes } = this.props;\n\n\t\tlet now = new Date();\n\t\tlet start = moment(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0,0,0,0));\n\t\tlet end = moment(start).add(1, \"days\").subtract(1, \"seconds\");\n\t\tlet ranges = {\n\t\t\t\"Today Only\": [moment(start), moment(end)],\n\t\t\t\"Yesterday Only\": [moment(start).subtract(1, \"days\"), moment(end).subtract(1, \"days\")],\n\t\t\t\"3 Days\": [moment(start).subtract(3, \"days\"), moment(end)]\n\t\t};\n\t\tlet local = { \"format\":\"DD-MM-YYYY\" };\n\t\tlet maxDate = moment(start).add(24, \"hour\")\n\t\treturn(\n\t\t\t<DateTimeRangeContainer\n\t\t\t\tranges={ranges}\n\t\t\t\tstart={this.state.startDate}\n\t\t\t\tend={this.state.endDate}\n\t\t\t\tlocal={local}\n\t\t\t\tmaxDate={maxDate}\n\t\t\t\tapplyCallback={this.applyCallback}\n\t\t\t>\n\t\t\t\t<FormControl className={classes.formControl}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvalue={moment(this.state.startDate).format('Y, MMMM D') + ' - ' + moment(this.state.endDate).format('Y, MMMM D')}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t</DateTimeRangeContainer>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(Datepicker);","import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { withStyles } from '@material-ui/core/styles';\nimport Datepicker from \"../Shared/Datepicker\";\nimport moment from \"moment\";\nimport '../css/Datepicker.css';\n\n\nconst styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tflexWrap: 'wrap',\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing.unit,\n\t\twidth: \"100%\"\n\t},\n\tselectEmpty: {\n\t\tmarginTop: theme.spacing.unit * 2,\n\t},\n});\n\nclass Header extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: moment(new Date()).format('Y-MM-DD'),\n\t\t\tendDate: moment(new Date()).format('Y-MM-DD')\n\t\t};\n\t}\n\n\thandleChangeDate = date => {\n\t\tthis.setState({\n\t\t\tstartDate: date.start,\n\t\t\tendDate: date.end\n\t\t});\n\t\tlet params = {\n\t\t\tstartDate: date.start,\n\t\t\tendDate: date.end,\n\t\t\t// floor: this.state.floor\n\t\t};\n\t\tthis.props.handleParams(params);\n\t};\n\n\n\n\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} className={\"wrapper-24\"}>\n\t\t\t\t<Grid item xs={9} md={4}>\n\t\t\t\t\t<Datepicker changeDate={this.handleChangeDate} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(Header);","import config from '../config.js'\n\nconst siteId = 1513804707441;\n\nfunction getHeader(){\n\treturn (JSON.parse(localStorage.getItem('cisco_auth'))).presence;\n}\n\nexport function getPresenceParams() {\n\treturn {\n\t\tbaseUrl: config.presence,\n\t\tdata: {\n\t\t\theaders: { Authorization: getHeader()},\n\t\t\tparams: {\n\t\t\t\tsiteId: siteId\n\t\t\t}\n\t\t}\n\t};\n}","import React, { Component } from 'react';\nimport {PieChart, Pie, Cell, Tooltip, ResponsiveContainer} from 'recharts';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Grid} from \"@material-ui/core\";\nimport PollIcon from '@material-ui/icons/Poll';\n\nconst types = ['connected', 'passerby', 'visitors'];\n\nconst keys = {\n\n\tconnected: {\n\t\tname: 'Connected',\n\t\tcolor: '#2e7d32'\n\t},\n\tpasserby: {\n\t\tname: 'Passerby',\n\t\tcolor: '#0069fc',\n\t},\n\tvisitors: {\n\t\tname: 'Visitors',\n\t\tcolor: '#ff0043',\n\t}\n};\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{`${(percent * 100).toFixed(0)}%`}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tconnected: true,\n\t\t\tpasserby: true,\n\t\t\tvisitors: true\n\t\t}\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\ttypes.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[type].name,\n\t\t\t\t\tvalue: this.props[type],\n\t\t\t\t\tkey: type\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PollIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default TotalCount;","import React, { Component } from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {BarChart, Bar, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from 'recharts';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport PollIcon from '@material-ui/icons/Poll';\n\nconst types = ['connected', 'passerby', 'visitors'];\n\nconst keys = {\n\tconnected: {\n\t\tname: 'connected',\n\t\tcolor: '#2e7d32'\n\t},\n\tpasserby: {\n\t\tname: 'passerby',\n\t\tcolor: '#0069fc'\n\t},\n\tvisitors: {\n\t\tname: 'visitors',\n\t\tcolor: '#ff0043'\n\t}\n};\n\nclass ChartProximity extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tconnected: true,\n\t\t\tpasserby: true,\n\t\t\tvisitors: true\n\t\t};\n\t}\n\n\n\tsetChartData = (chartData, type) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props[type]) {\n\t\t\tif (this.props[type].hasOwnProperty(prop)) {\n\t\t\t\tif (typeof(chartData[key]) == 'undefined') {\n\t\t\t\t\tchartData[key] = {};\n\t\t\t\t}\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tchartData[key][type] = this.props[type][prop];\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart,'connected');\n\t\tchart = this.setChartData(chart,'visitors');\n\t\tchart = this.setChartData(chart,'passerby');\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst typesBars = types.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Bar\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[type].name}\n\t\t\t\t\t\tfill={keys[type].color}\n\t\t\t\t\t\tfillOpacity={0.8}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PollIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Proximity</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<BarChart data={chart}>\n\t\t\t\t\t\t\t\t<CartesianGrid stroke=\"#ccc\"/>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" height={60}/>\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{typesBars}\n\t\t\t\t\t\t\t</BarChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartProximity;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport axios from \"axios\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport TotalCount from \"./TotalCount\";\nimport ChartProximity from \"./ChartProximity\";\n\nclass Proximity extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tvisitorsCount: 0,\n\t\t\tconnectedCount: 0,\n\t\t\tpasserbyCount: 0,\n\t\t\tvisitors: [],\n\t\t\tconnected: [],\n\t\t\tpasserby: []\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\tstartDate: nextProps.startDate,\n\t\t\tendDate: nextProps.endDate\n\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tfetchAll = () => {\n\t\tthis.fetchConnected();\n\t\tthis.fetchPasserby();\n\t\tthis.fetchVisitors();\n\n\n\n\t\tthis.fetchCountVisitors();\n\t\tthis.fetchCountConnected();\n\t\tthis.fetchCountPasserby();\n\t};\n\n\tfetchConnected () {\n\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connected: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchPasserby () {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerby: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchVisitors () {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchCountVisitors() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitorsCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tfetchCountConnected() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connectedCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tfetchCountPasserby() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params.startDate = this.state.startDate;\n\t\trequest.data.params.endDate = this.state.endDate;\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/total', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerbyCount: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartProximity visitors={this.state.visitors} connected={this.state.connected} passerby={this.state.passerby} range={this.isRange()} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount visitors={this.state.visitorsCount} connected={this.state.connectedCount} passerby={this.state.passerbyCount}/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Proximity;","import React, { Component } from 'react';\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport Typography from \"@material-ui/core/Typography\";\nimport {Cell, Pie, PieChart, ResponsiveContainer, Tooltip} from \"recharts\";\n\n\nconst keys = {\n\tFIVE_TO_THIRTY_MINUTES: {\n\t\tname: '5-30 min',\n\t\tcolor: '#4caf50'\n\t},\n\tTHIRTY_TO_SIXTY_MINUTES: {\n\t\tname: '30-60 min',\n\t\tcolor: '#f57f17',\n\t},\n\tONE_TO_FIVE_HOURS: {\n\t\tname: '1-5 hrs',\n\t\tcolor: '#2196f3',\n\t},\n\tFIVE_TO_EIGHT_HOURS: {\n\t\tname: '5-8 hrs',\n\t\tcolor: '#1a237e',\n\t},\n\tEIGHT_PLUS_HOURS: {\n\t\tname: '8+ hrs',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nconst ranges = ['FIVE_TO_THIRTY_MINUTES', 'THIRTY_TO_SIXTY_MINUTES', 'ONE_TO_FIVE_HOURS', 'FIVE_TO_EIGHT_HOURS', 'EIGHT_PLUS_HOURS'];\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\tconst showPercent = (percent * 100).toFixed(0);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{showPercent > 5 ? `${showPercent}%` : ''}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tFIVE_TO_THIRTY_MINUTES: true,\n\t\t\tTHIRTY_TO_SIXTY_MINUTES: true,\n\t\t\tONE_TO_FIVE_HOURS: true,\n\t\t\tFIVE_TO_EIGHT_HOURS: true,\n\t\t\tEIGHT_PLUS_HOURS: true\n\t\t};\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\tranges.map((range, index) => {\n\t\t\tif (this.state[range]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[range].name,\n\t\t\t\t\tvalue: this.props.countDwellTime[range],\n\t\t\t\t\tkey: range\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\t\tconst legendButtons = ranges.map((range, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(range)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[range].color, opacity: this.state[range] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[range].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<AccessTimeIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n\n}\n\nexport default TotalCount;","import React, { Component } from 'react';\nimport {AreaChart, Area, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from \"recharts\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport Typography from \"@material-ui/core/Typography\";\n\nconst keys = {\n\tFIVE_TO_THIRTY_MINUTES: {\n\t\tname: '5-30 min',\n\t\tcolor: '#4caf50'\n\t},\n\tTHIRTY_TO_SIXTY_MINUTES: {\n\t\tname: '30-60 min',\n\t\tcolor: '#f57f17',\n\t},\n\tONE_TO_FIVE_HOURS: {\n\t\tname: '1-5 hrs',\n\t\tcolor: '#2196f3',\n\t},\n\tFIVE_TO_EIGHT_HOURS: {\n\t\tname: '5-8 hrs',\n\t\tcolor: '#1a237e',\n\t},\n\tEIGHT_PLUS_HOURS: {\n\t\tname: '8+ hrs',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nclass ChartDwell extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tFIVE_TO_THIRTY_MINUTES: true,\n\t\t\tTHIRTY_TO_SIXTY_MINUTES: true,\n\t\t\tONE_TO_FIVE_HOURS: true,\n\t\t\tFIVE_TO_EIGHT_HOURS: true,\n\t\t\tEIGHT_PLUS_HOURS: true\n\t\t};\n\t}\n\n\tsetChartData = (chartData) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props.dwellTime) {\n\t\t\tif (this.props.dwellTime.hasOwnProperty(prop)) {\n\n\t\t\t\tlet data = {};\n\t\t\t\tfor (let range in this.props.dwellTime[prop]) {\n\t\t\t\t\tif (this.props.dwellTime[prop].hasOwnProperty(range)) {\n\t\t\t\t\t\tdata[keys[range].name] = this.props.dwellTime[prop][range];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchartData[key] = data;\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart);\n\t\tlet ranges = ['FIVE_TO_THIRTY_MINUTES', 'THIRTY_TO_SIXTY_MINUTES', 'ONE_TO_FIVE_HOURS', 'FIVE_TO_EIGHT_HOURS', 'EIGHT_PLUS_HOURS'];\n\t\tconst legendButtons = ranges.map((range, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(range)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[range].color, opacity: this.state[range] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[range].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst rangesAreas = ranges.map((range, index) => {\n\t\t\tif (this.state[range]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Area\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[range].name}\n\t\t\t\t\t\tstroke={keys[range].color}\n\t\t\t\t\t\tfillOpacity={1}\n\t\t\t\t\t\tfill={\"url(#\" + range + \")\"}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\tconst colorsGradients = ranges.map((range, index) =>\n\t\t\t<linearGradient key={index} id={range} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n\t\t\t\t<stop offset=\"5%\" stopColor={keys[range].color} stopOpacity={0.9}/>\n\t\t\t\t<stop offset=\"95%\" stopColor={keys[range].color} stopOpacity={0}/>\n\t\t\t</linearGradient>\n\t\t);\n\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<AccessTimeIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Dwell Time</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<AreaChart data={chart} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n\t\t\t\t\t\t\t\t<defs>{colorsGradients}</defs>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" />\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{rangesAreas}\n\t\t\t\t\t\t\t</AreaChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartDwell;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport TotalCount from \"./TotalCount\";\nimport ChartDwell from \"./ChartDwell\";\n\nclass Dwell extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tdwellTime: [],\n\t\t\tcountDwellTime: {}\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate,\n\t\t\t\tdwellTime: []\n\t\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tfetchAll = () => {\n\t\tthis.fetchDwellTime();\n\t\tthis.fetchCountDwellTime();\n\t};\n\n\tfetchDwellTime() {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/dwell/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({dwellTime: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tfetchCountDwellTime() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/dwell/count', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tconsole.log('RESPONSE: ', result.data);\n\t\t\t\tthis.setState({countDwellTime: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartDwell range={this.isRange()} dwellTime={this.state.dwellTime} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount countDwellTime={this.state.countDwellTime} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Dwell;","import React, { Component } from 'react';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, ResponsiveContainer, Tooltip, Brush} from \"recharts\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport PeopleIcon from '@material-ui/icons/People';\nimport Typography from \"@material-ui/core/Typography\";\n\nlet types = ['DAILY', 'WEEKLY', 'OCCASIONAL', 'FIRST_TIME', 'YESTERDAY'];\n\nconst keys = {\n\n\tDAILY: {\n\t\tname: 'Daily',\n\t\tcolor: '#4caf50'\n\t},\n\tWEEKLY: {\n\t\tname: 'Weekly',\n\t\tcolor: '#f57f17',\n\t},\n\tOCCASIONAL: {\n\t\tname: 'Occasional',\n\t\tcolor: '#2196f3',\n\t},\n\tFIRST_TIME: {\n\t\tname: 'First Time',\n\t\tcolor: '#1a237e',\n\t},\n\tYESTERDAY: {\n\t\tname: 'Yesterday',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nclass ChartRepeatVisitors extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tDAILY: true,\n\t\t\tWEEKLY: true,\n\t\t\tOCCASIONAL: true,\n\t\t\tFIRST_TIME: true,\n\t\t\tYESTERDAY: true\n\t\t};\n\t}\n\n\tsetChartData = (chartData) => {\n\t\tlet key = 0;\n\t\tfor (let prop in this.props.repeatVisitors) {\n\t\t\tif (this.props.repeatVisitors.hasOwnProperty(prop)) {\n\t\t\t\tlet data = {};\n\t\t\t\tfor (let type in this.props.repeatVisitors[prop]) {\n\t\t\t\t\tif (this.props.repeatVisitors[prop].hasOwnProperty(type)) {\n\t\t\t\t\t\tdata[keys[type].name] = this.props.repeatVisitors[prop][type];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchartData[key] = data;\n\t\t\t\tchartData[key].time = prop;\n\t\t\t\tkey++;\n\t\t\t}\n\t\t}\n\t\treturn chartData;\n\t};\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tRenderBrush = () => {\n\t\tif (this.props.range) {\n\t\t\treturn <Brush dataKey=\"time\" height={30} stroke=\"#8884d8\" />;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet chart = [];\n\t\tchart = this.setChartData(chart);\n\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\tconst rangesLines = types.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\treturn (\n\t\t\t\t\t<Line\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey={keys[type].name}\n\t\t\t\t\t\tstroke={keys[type].color}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PeopleIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Repeat Visitors</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t\t<LineChart data={chart} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n\t\t\t\t\t\t\t\t<XAxis dataKey=\"time\" />\n\t\t\t\t\t\t\t\t<YAxis />\n\t\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t\t{this.RenderBrush()}\n\t\t\t\t\t\t\t\t{rangesLines}\n\t\t\t\t\t\t\t</LineChart>\n\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default ChartRepeatVisitors;","import React, { Component } from 'react';\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {Grid} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Cell, Pie, PieChart, ResponsiveContainer, Tooltip} from \"recharts\";\nimport PeopleIcon from '@material-ui/icons/People';\n\n\nlet types = ['DAILY', 'WEEKLY', 'OCCASIONAL', 'FIRST_TIME', 'YESTERDAY'];\n\nconst keys = {\n\n\tDAILY: {\n\t\tname: 'Daily',\n\t\tcolor: '#4caf50'\n\t},\n\tWEEKLY: {\n\t\tname: 'Weekly',\n\t\tcolor: '#f57f17',\n\t},\n\tOCCASIONAL: {\n\t\tname: 'Occasional',\n\t\tcolor: '#2196f3',\n\t},\n\tFIRST_TIME: {\n\t\tname: 'First Time',\n\t\tcolor: '#1a237e',\n\t},\n\tYESTERDAY: {\n\t\tname: 'Yesterday',\n\t\tcolor: '#b71c1c'\n\t}\n};\n\nconst RADIAN = Math.PI / 180;\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\n\tconst showPercent = (percent * 100).toFixed(0);\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={'start'} dominantBaseline=\"central\">\n\t\t\t{showPercent > 5 ? `${showPercent}%` : ''}\n\t\t</text>\n\t);\n};\n\nclass TotalCount extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tDAILY: true,\n\t\t\tWEEKLY: true,\n\t\t\tOCCASIONAL: true,\n\t\t\tFIRST_TIME: true,\n\t\t\tYESTERDAY: true\n\t\t};\n\t}\n\n\thideData = (type) => {\n\t\tlet obj = {};\n\t\tobj[type] = !this.state[type];\n\t\tthis.setState(obj);\n\t};\n\n\tbuildData() {\n\t\tlet data = [];\n\t\ttypes.map((type, index) => {\n\t\t\tif (this.state[type]) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tname: keys[type].name,\n\t\t\t\t\tvalue: this.props.count[type],\n\t\t\t\t\tkey: type\n\t\t\t\t};\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tlet data = this.buildData();\n\t\tconst legendButtons = types.map((type, index) =>\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tonClick={() => this.hideData(type)}\n\t\t\t\tclassName={\"LegendItem\"}\n\t\t\t\tstyle={{backgroundColor: keys[type].color, opacity: this.state[type] ? 1 : 0.6}}\n\t\t\t>\n\t\t\t\t{keys[type].name}\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<PeopleIcon />\n\t\t\t\t\t\t<Typography style={{margin: '5px 4px'}} color=\"textSecondary\" gutterBottom>Total Count</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container direction={\"row\"} className={\"wrapper-sm-24 m-b-24\"}>\n\t\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24 FlexRow SpaceAround\"}>\n\t\t\t\t\t\t\t{legendButtons}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ResponsiveContainer width=\"100%\" height={500}>\n\t\t\t\t\t\t<PieChart onMouseEnter={this.onPieEnter}>\n\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tcx=\"50%\"\n\t\t\t\t\t\t\t\tcy=\"50%\"\n\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\touterRadius={120}\n\t\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\n\t\t\t\t\t\t\t\tfill=\"#8884d8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ data.map((entry, index) => <Cell key={index} fill={keys[entry.key].color}/>) }\n\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n\n}\n\nexport default TotalCount;","import React, {Component} from 'react';\nimport Grid from \"@material-ui/core/Grid\";\nimport axios from \"axios\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport ChartRepeatVisitors from \"./ChartRepeatVisitors\";\nimport TotalCount from \"./TotalCount\";\n\n\nclass RepeatVisitors extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\trepeatVisitors: [],\n\t\t\tcount: {}\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate,\n\t\t\t\trepeatVisitors: []\n\t\t\t},\n\t\t\t() => { this.fetchAll() });\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tfetchAll = () => {\n\t\tthis.fetchRepeatVisitors();\n\t\tthis.fetchCount();\n\t};\n\n\tfetchRepeatVisitors() {\n\t\tlet request = getPresenceParams();\n\t\tlet timeSection = this.state.startDate === this.state.endDate ? 'hourly' : 'daily';\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/repeatvisitors/' + timeSection, request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({repeatVisitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tfetchCount() {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/repeatvisitors/count', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({count: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n\n\tisRange = () => {\n\t\treturn this.state.startDate !== this.state.endDate;\n\t};\n\n// <TotalCount countDwellTime={this.state.countDwellTime} />\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Grid item xs={12} md={8} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<ChartRepeatVisitors range={this.isRange()} repeatVisitors={this.state.repeatVisitors} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={4} className={\"m-t-sm-24\"}>\n\t\t\t\t\t<TotalCount count={this.state.count} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default RepeatVisitors;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\n\nclass Visitors extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Visitors</Typography>\n\t\t\t\t\t\t\t<PeopleOutlineIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Visitors:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.props.visitors}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Connected:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.connected}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Total Passerby:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.passerby}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Connected Percentage:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.precentage} %</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Conversion Rate:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.conversionRate} %</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Visitors;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\n\nclass DwellTime extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t};\n\t}\n\n\tpeakHourFormat() {\n\t\ttry {\n\t\t\tlet time = this.props.peakSummary.peakHour;\n\t\t\tlet next = this.props.peakSummary.peakHour + 1;\n\t\t\tlet formattedTime = time < 10 ? '0' + time + ':00' : time + ':00';\n\t\t\tlet formattedNext = next < 10 ? '0' + next + ':00' : next + ':00';\n\t\t\treturn formattedTime + ' - ' + formattedNext;\n\t\t} catch (err) {\n\n\t\t}\n\t}\n\n\taverageDwelTime() {\n\t\tlet hrs = parseInt(parseInt(this.props.averageDwellTime) / 60);\n\t\tlet min = parseInt(this.props.averageDwellTime) % 60;\n\t\treturn hrs + ' hrs ' + min + ' min';\n\t}\n\n\trender() {\n\t\t// {/*<Typography> {this.props.peakSummary.peakHour} </Typography>*/}\n\t\t// startDate: moment(new Date()).format('Y-MM-DD'),\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Dwell Time</Typography>\n\t\t\t\t\t\t\t<AccessTimeIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Average Dwell Time:</Typography>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.averageDwelTime()}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Peak Hour:</Typography>\n\t\t\t\t\t\t\t<Typography> {this.peakHourFormat()} </Typography>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Users in peak hour:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.peakSummary.peakHourCount}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">5-30 min:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.FIVE_TO_THIRTY_MINUTES.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">30-60 min:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.THIRTY_TO_SIXTY_MINUTES.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">1-5 hrs:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.ONE_TO_FIVE_HOURS.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">5-8 hrs:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.FIVE_TO_EIGHT_HOURS.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">8+ hrs:</Typography>\n\t\t\t\t\t\t\t<Typography>{this.props.dwellLevels.EIGHT_PLUS_HOURS.count}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default DwellTime;","import React, {Component} from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport DevicesIcon from '@material-ui/icons/Devices';\n\nclass Devices extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t};\n\t}\n\n\trender() {\n\t\tconst propsDevices = this.props.devices;\n\n\t\tlet sortedDevices = Object.keys(propsDevices).sort(function(a, b){return propsDevices[b] - propsDevices[a]});\n\t\tconsole.log('sortedDevices: ', sortedDevices);\n\t\tlet deviceNames = [];\n\t\tfor (let prop in sortedDevices) {\n\t\t\tif (sortedDevices.hasOwnProperty(prop)) {\n\t\t\t\tdeviceNames.push(sortedDevices[prop]);\n\t\t\t}\n\t\t}\n\t\tconst rangesAreas = deviceNames.map((device, index) => {\n\t\t\treturn (\n\t\t\t\t<div key={index} className={\"textRow\"}>\n\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">{device}:</Typography>\n\t\t\t\t\t<Typography gutterBottom variant=\"body1\">{this.props.devices[device]}</Typography>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Devices</Typography>\n\t\t\t\t\t\t\t<DevicesIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{rangesAreas}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\n\nexport default Devices;","import React, {Component} from 'react';\nimport moment from \"moment\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Typography} from \"@material-ui/core\";\nimport TrendingUpIcon from \"@material-ui/icons/TrendingUp\";\n\nconst types = ['visitors', 'connected', 'passerby'];\n\nclass Prediction extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet end = moment(new Date()).format(\"Y-MM-DD\");\n\t\tlet start = moment(new Date()).add(-30, \"days\").format(\"Y-MM-DD\");\n\t\tthis.state = {\n\t\t\tstartDate: start,\n\t\t\tendDate: end,\n\t\t\tvisitors: undefined,\n\t\t\tconnected: undefined,\n\t\t\tpasserby: undefined\n\t\t};\n\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.fetchConnected();\n\t\tthis.fetchPasserby();\n\t\tthis.fetchVisitors();\n\t}\n\n\tfetchConnected () {\n\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/connected/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({connected: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchPasserby () {\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/passerby/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({passerby: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tfetchVisitors () {\n\t\tlet request = getPresenceParams();\n\t\tlet dates = {};\n\t\tdates.startDate = this.state.startDate;\n\t\tdates.endDate = this.state.endDate;\n\t\trequest.data.params = {...request.data.params, ...dates};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/visitor/daily', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tthis.setState({visitors: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tisKeyPresentInObj(key, obj) {\n\t\treturn (typeof (this.state[obj][key]) !== \"undefined\");\n\t}\n\n\tpredict(obj) {\n\t\tif (typeof(this.state[obj]) !== \"undefined\") {\n\t\t\tlet currentKeyDate = moment(this.state.endDate).add(-6, \"days\").format(\"Y-MM-DD\");\n\t\t\tlet i = 0;\n\t\t\tlet counts = [];\n\t\t\twhile (this.isKeyPresentInObj(currentKeyDate, obj)) {\n\t\t\t\tcounts.push(this.state[obj][currentKeyDate]);\n\t\t\t\tcurrentKeyDate = moment(currentKeyDate).add(-7, \"days\").format(\"Y-MM-DD\");\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tconsole.log(\"counts: \", counts);\n\t\t\tconsole.log(\"i: \", i);\n\t\t\treturn parseInt(this.countAverage(counts, i));\n\t\t}\n\t\treturn 0\n\t}\n\n\tcountAverage(array, counts) {\n\t\tlet sum = 0\n\t\tarray.map((number, index) => {\n\t\t\tsum += number;\n\t\t});\n\t\treturn sum / counts;\n\t}\n\n\n\trender() {\n\n\n\t\tlet predictions = {};\n\t\ttypes.map((type, index) => {\n\t\t\tpredictions[type] = this.predict(type);\n\t\t});\n\t\treturn (\n\t\t\t<Grid item xs={12} sm={6} md={3} className={\"m-t-sm-24\"}>\n\t\t\t\t<Card style={{height: \"100%\"}}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography gutterBottom variant=\"headline\">Tomorrow</Typography>\n\t\t\t\t\t\t\t<TrendingUpIcon style={{fontSize: 32}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Visitors:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.visitors}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Connected:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.connected}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"textRow\"}>\n\t\t\t\t\t\t\t<Typography className={\"rowTitle\"} gutterBottom variant=\"caption\">Passerby:</Typography>\n\t\t\t\t\t\t\t<Typography>~{predictions.passerby}</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n}\n\nexport default Prediction;","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport moment from \"moment\";\nimport {getPresenceParams} from \"../../requests/credentials\";\nimport axios from \"axios\";\nimport Visitors from \"./Visitors\";\nimport DwellTime from \"./DwellTime\";\nimport Devices from \"./Devices\";\nimport Prediction from \"./Prediction\";\n\nclass Summary extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: this.props.startDate,\n\t\t\tendDate: this.props.endDate,\n\t\t\tsummary: undefined\n\t\t};\n\t}\n\n\tbuildQueryDateParams = () => {\n\t\tif (this.state.startDate === this.state.endDate) {\n\t\t\treturn {date: this.state.startDate};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tstartDate: this.state.startDate,\n\t\t\t\tendDate: this.state.endDate\n\t\t\t};\n\t\t}\n\t};\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.setState({\n\t\t\t\tstartDate: nextProps.startDate,\n\t\t\t\tendDate: nextProps.endDate\n\t\t\t},\n\t\t\t() => { this.fetchSummary() });\n\t}\n\n\tfetchSummary = () => {\n\t\tlet request = getPresenceParams();\n\t\trequest.data.params = {...request.data.params, ...this.buildQueryDateParams()};\n\t\taxios.get(request.baseUrl + 'api/presence/v1/kpisummary', request.data)\n\t\t\t.then((result) => {\n\t\t\t\tconsole.log('result.data', result.data);\n\t\t\t\tthis.setState({summary: result.data});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\trender() {\n\n\t\tif (typeof (this.state.summary) === 'undefined') {\n\t\t\treturn (<div></div>);\n\t\t}\n\n\t\treturn(\n\t\t\t<Grid container direction={\"row\"} spacing={24} className={\"sm-no-spacing\"}>\n\t\t\t\t<Visitors\n\t\t\t\t\tconnected={this.state.summary.totalConnectedCount}\n\t\t\t\t\tpasserby={this.state.summary.totalPasserbyCount}\n\t\t\t\t\tvisitors={this.state.summary.totalVisitorCount}\n\t\t\t\t\tprecentage={this.state.summary.connectedPercentage}\n\t\t\t\t\tconversionRate={this.state.summary.conversionRate}\n\t\t\t\t/>\n\t\t\t\t<DwellTime\n\t\t\t\t\taverageDwellTime={this.state.summary.averageDwell}\n\t\t\t\t\tpeakSummary={this.state.summary.peakSummary ? this.state.summary.peakSummary : this.state.summary.peakWeekSummary}\n\t\t\t\t\tdwellLevels={this.state.summary.averageDwellByLevels}\n\t\t\t\t/>\n\t\t\t\t<Devices\n\t\t\t\t\tdevices={this.state.summary.topManufacturers.manufacturerCounts}\n\t\t\t\t/>\n\t\t\t\t<Prediction/>\n\t\t\t</Grid>\n\t\t);\n\t}\n\n}\n\nexport default Summary;","import React, {Component} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport moment from \"moment\";\n\nimport Header from \"./Header\";\nimport Proximity from \"./Proximity/Proximity\";\nimport Dwell from \"./Dwell/Dwell\";\nimport RepeatVisitors from \"./RepeatVisitors/RepeatVisitors\";\nimport Summary from \"./Summary/Summary\";\n\nclass Analytics extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstartDate: moment(new Date()).format('Y-MM-DD'),\n\t\t\tendDate: moment(new Date()).format('Y-MM-DD'),\n\t\t};\n\t}\n\n\tgetQueryParams = params => {\n\t\tthis.setState({\n\t\t\t\tstartDate: params.startDate,\n\t\t\t\tendDate: params.endDate\n\t\t\t});\n\t};\n\n\trender() {\n\t\t// {/*<RepeatVisitors startDate={this.state.startDate} endDate={this.state.endDate} />*/}\n\t\treturn (\n\t\t\t<div className={\"wrapper-md-24\"}>\n\t\t\t\t<Grid container direction={\"column\"}>\n\t\t\t\t\t<Grid item xs={12} className={\"wrapper-24\"}>\n\t\t\t\t\t\t<Header handleParams={this.getQueryParams}/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Summary startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<Proximity      startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<Dwell          startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t\t<RepeatVisitors startDate={this.state.startDate} endDate={this.state.endDate} />\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t);\n\n\n\t}\n}\n\nexport default Analytics;\n","import React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { Link } from 'react-router-dom';\n\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: 0 };\n  }\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  logout(){\n    localStorage.removeItem('cisco_auth');\n    window.location.reload();\n  }\n\n  render() {\n    if (this.props.location.pathname === \"/login\"){\n      return (<div></div>);\n    }\n    return (\n      <AppBar position=\"static\">\n        <Tabs value={this.state.value} onChange={this.handleChange}\n          centered >\n          <Tab label=\"Analytics\" component={Link} to=\"/\" />\n          <Tab label=\"Location\" component={Link} to=\"/location\" />\n          <Tab label=\"Log Out\" onClick={this.logout.bind(this)} />\n        </Tabs>\n      </AppBar>\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios/index';\nimport config from '../config.js'\n\n// matrerial ui and css\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport '../css/Login.css';\n\nclass Login extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      presenceUname: \"\",\n      presencePass: \"\",\n      locationUname: \"\",\n      locationPass: \"\",\n      error: false,\n    };\n  }\n\n  handleChange(event) {\n    if (\"presenceUname\" === event.target.name){\n      this.setState({ presenceUname:  event.target.value})\n    } else if (\"presencePass\" === event.target.name){\n      this.setState({ presencePass:  event.target.value})\n    } else if (\"locationUname\" === event.target.name){\n      this.setState({ locationUname:  event.target.value})\n    } else if (\"locationPass\" === event.target.name){\n      this.setState({ locationPass:  event.target.value})\n    }\n  }\n\n async handleSubmit() {\n   if (this.state.presencePass === \"\" || this.state.presenceUname === \"\" \n        || this.state.locationPass === \"\" || this.state.locationUname === \"\"){\n     return ;\n   }\n  try{\n    let header = \"Base \" + btoa(this.state.presenceUname + \":\" + this.state.presencePass)\n    let res = await axios.get(config.presence + 'api/config/v1/sites', {\n            headers: {\n                Authorization: header\n            }\n        });\n    localStorage.setItem('siteId', JSON.stringify({\n      id: res.data[0].aesUId,\n    }));\n    localStorage.setItem('cisco_auth', JSON.stringify({\n      presence: \"Base \" + btoa(this.state.presenceUname + \":\" + this.state.presencePass),\n      location: \"Base \" + btoa(this.state.locationUname + \":\" + this.state.locationPass),\n    }));\n    \n    window.location.reload();\n  } catch (error){\n    if (error.response.status == 401){\n      localStorage.removeItem('cisco_auth');\n      this.props.history.push(\"/login\");\n      this.setState({ error: true })\n    }\n    axios.post('/error', {\n      data: error.message \n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n    \n  }\n\n  render() {\n    if (localStorage.getItem('cisco_auth')){\n      return (<Redirect to='/' />);\n    }\n    return (\n      <div className=\"LoginWrapper\">\n        <div className=\"Main\">\n          <CssBaseline />\n          <Paper className=\"Paper\">\n            <Typography component=\"h1\" variant=\"h5\">\n              Credentials\n            </Typography>\n\n              <form className=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n                <div className=\"InerBox\">\n                  <FormLabel component=\"legend\">Cisco_CMX_Locate</FormLabel>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"text\">Username</InputLabel>\n                  <Input error={this.state.error} required={true} name=\"locationUname\" autoComplete=\"text\" autoFocus onChange={this.handleChange.bind(this)} />\n                </FormControl>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"password\">Password</InputLabel>\n                  <Input error={this.state.error} required={true} name=\"locationPass\" type=\"password\"  autoComplete=\"current-password\" onChange={this.handleChange.bind(this)} />\n                </FormControl>\n\n            </div>\n            <div className=\"InerBox\">\n            <FormLabel component=\"legend\">Cisco_CMX_Presence</FormLabel>\n\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"text\">Username</InputLabel>\n                <Input error={this.state.error} required={true} name=\"presenceUname\" autoComplete=\"text\" autoFocus onChange={this.handleChange.bind(this)} />\n              </FormControl>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"password\">Password</InputLabel>\n                <Input error={this.state.error} required={true} name=\"presencePass\" type=\"password\" autoComplete=\"current-password\" onChange={this.handleChange.bind(this)} />\n              </FormControl>\n              </div>\n              <Button\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className=\"Submit\"\n                onClick={this.handleSubmit.bind(this)}\n                \n                >\n                Submit\n              </Button>\n            </form>\n\n\n          </Paper>\n      </div>\n  </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n  },\n  dense: {\n    marginTop: 16,\n  },\n  menu: {\n    width: 200,\n  },\n});\n\n\nclass OutlinedTextFields extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      list: this.props.name,\n      value: \"\"\n    };\n  }\n\n  componentWillReceiveProps(nextProps){\n    if (nextProps.value){\n      this.setState({\n        value: nextProps.value\n      })\n    } else {\n      this.setState({\n        list: nextProps.name.sort()\n      })\n    }\n  }\n\n  handleChange = () => event => {\n    this.setState({\n      value: event.target.value,\n    });\n    this.props.handleChange(this.props.title, event.target.value);\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n\n        <TextField\n          id=\"outlined-select-currency\"\n          select\n          label=\"Select\"\n          className={classes.textField}\n          value={this.state.value}\n          onChange={this.handleChange()}\n          helperText={\"Please select your \" + this.props.title}\n          margin=\"normal\"\n          variant=\"outlined\"\n        >\n          {this.state.list.map((option, index) => (\n            <MenuItem key={index} value={option}>\n              {option}\n            </MenuItem>\n          ))}\n        </TextField>\n      </form>\n    );\n  }\n}\n\nOutlinedTextFields.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(OutlinedTextFields);\n","import React, { Component } from 'react';\nimport axios from 'axios/index';\nimport config from '../config.js';\nimport Grid from '@material-ui/core/Grid';\nimport OutlinedTextFields from './OutlinedTextFields.jsx';\nimport ImgMediaCard from './ImgMediaCard.jsx';\n\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\n\nclass Map extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      floorList: [],\n      campusName: [],\n      buildName: [],\n      floorValue: \"\",\n      open: false,\n      vertical: 'bottom',\n      horizontal: 'left',\n      msg: \"test\"\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      let url = config.location + 'api/config/v1/maps';\n      let header = (JSON.parse(localStorage.getItem('cisco_auth'))).location\n      let res = await axios.get(url, {\n        headers: {\n          Authorization: header,\n        }\n      });\n      let upper = this;\n      res.data.campuses.map((item) => {\n        upper.setState(prevState => ({\n          campusName: [...prevState.campusName, item.name],\n        }))\n        item.buildingList.map(item => {\n          upper.setState(prevState => ({\n            buildName: [...prevState.buildName, item.name]\n          }))\n          item.floorList.map(item => {\n            upper.setState(prevState => ({\n              floorList: [...prevState.floorList, item.name],\n              [item.name]: item.aesUidString\n            }))\n          })\n        })\n      });\n\n    } catch (error) {\n      console.log(error)\n      axios.post('/error', {\n        data: error.message \n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n  }\n\n  handleChange = (name, value) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  setFloor = (param) => {\n    this.state.floorList.map(item => {\n      if (this.state[item] === param) {\n        this.setState({\n          floor: item,\n        })\n      }\n    })\n  } \n\n  handleClick = (param) => {\n    this.setState({ open: true, msg: param });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  }\n\n  render() {\n    const { vertical, horizontal, open, msg } = this.state;\n    return (\n      <div>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n        >\n          <OutlinedTextFields name={this.state.campusName} title=\"campus\" handleChange={this.handleChange} />\n          <OutlinedTextFields name={this.state.buildName} title=\"bulding\" handleChange={this.handleChange} />\n          <OutlinedTextFields name={this.state.floorList} title=\"floor\" handleChange={this.handleChange} value={this.state.floor} />\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"flex-start\"\n        >\n          <ImgMediaCard\n            imageSrc={\"/\" + this.state.campus + \"/\" + this.state.bulding + \"/\" + this.state.floor}\n            floor={this.state[this.state.floor]}\n            setFloor={this.setFloor}\n            notification={this.handleClick}\n          />\n          <Snackbar\n            anchorOrigin={{ vertical, horizontal }}\n            open={open}\n            onClose={this.handleClose}\n            ContentProps={{\n              'aria-describedby': 'message-id',\n            }}\n            autoHideDuration={3000}\n            message={<span id=\"message-id\">{ msg }</span>}\n          />\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default Map;\n","import React, { Component } from 'react';\nimport { Route, Redirect, BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Analytics from './Analytics/Analytics.jsx';\nimport Header from './Layout/Header.jsx';\nimport Login from './Layout/Login.jsx';\nimport Map from './Location/Map.jsx';\n\nlet Auth = (Component) => {\n    if (!localStorage.getItem('cisco_auth')) {\n        return () => (<Redirect to='/login' />);\n    }\n    return () => (<Component />);\n};\n\n\nclass App extends Component {\n    \n    \n\n    render() {\n        return (\n            <BrowserRouter>\n                <Route path={\"/\"} component={Header} />\n                <Route exact path={\"/\"} component={Auth(Analytics)} />\n                <Route path={\"/location\"} component={Auth(Map)} />\n                <Route path={\"/login\"} component={Login} />\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React  from 'react';\nimport ReactDOM from 'react-dom';\n// import { BrowserRouter } from 'react-router-dom';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\nimport './style.css';\n\nReactDOM.render(\n    <App />,\n   document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}